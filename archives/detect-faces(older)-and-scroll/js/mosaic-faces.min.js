function onCvLoaded(){console.log('on OpenCV.js Loaded',cv);cv.onRuntimeInitialized=onReady();}
function onReady(){console.log("onReady");const cv=Module;window.addEventListener('DOMContentLoaded',function(){let fileInput=document.getElementById('fileInput');let faceCascade=new cv.CascadeClassifier();faceCascadeFile='./haarcascade_frontalface_default.xml';const utils=new Utils('error-message');utils.createFileFromUrl(faceCascadeFile,faceCascadeFile,()=>{console.log('Face Cascade File Loaded');faceCascade.load(faceCascadeFile);});fileInput.onchange=(e)=>{const image=new Image();image.src=URL.createObjectURL(e.target.files[0]);image.onload=()=>{const canvas=document.getElementById('img-input');const context=canvas.getContext('2d');drawMap(image)
const cvImage=cv.imread("img-input");const mean=cv.mean(cvImage)
console.log(`Mean:${mean[0]},${mean[1]},${mean[2]}`)
}};});}
